<!-- // From: 25/05/2019 https://medium.freecodecamp.org/a-gentle-introduction-to-d3-how-to-build-a-reusable-bubble-chart-9106dc4f6c46 Tutorial and explanation -->

<!DOCTYPE html>
<html lang="en">

<head>
    <title>LGB+ Stats</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>
    <script src="bubble_chart.js"></script>
</head>

<body>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="index.html">Home</a></li>
                    <li><a href="linechart.html">Line Charts</a></li>
                    <li><a href="bubblechart.html">Bubble Chart</a></li>
                    <li><a href="barchart.html">Bar Charts</a></li>
                    <li><a href="piechart.html">Pie Charts</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <h1>Averages of LGB+ data</h1>
    </div>
    <div>
        <h2>Average of age group for each year</h2>
        <div class="divBubbleChart" id="chart"><svg></svg></div>
    </div>
    <div>
        <h2>Average of each region for all years</h2>
        <div class="divBubbleChart" id="chart2"><svg></svg></div>
    </div>
    <div>
        <h2>Average of sexual minority for male and female respondents</h2>
    </div>
    <div class="divBubbleChart" id="chart3"><svg></svg></div>
    <script>
        d3.csv('csv/age/age_average_old.csv', function(error, data) {
            if (error) {
                console.error('Error getting or parsing the data.');
                throw error;
            }
            var chart = bubbleChart().width(600).height(400);
            d3.select('#chart').datum(data).call(chart);
        });

        d3.csv('csv/regions/regions_average.csv', function(error, data) {
            if (error) {
                console.error('Error getting or parsing the data.');
                throw error;
            }
            var chart = bubbleChart().width(600).height(400);
            d3.select('#chart2').datum(data).call(chart);
        });

        d3.csv('csv/men&women/men&women.csv', function(error, data) {
            if (error) {
                console.error('Error getting or parsing the data.');
                throw error;
            }
            var chart = bubbleChart().width(600).height(400);
            d3.select('#chart3').datum(data).call(chart);
        });
    </script>
</body>

</html>